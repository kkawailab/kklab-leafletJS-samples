<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>11 - ã‚«ã‚¹ã‚¿ãƒ ãƒãƒ¼ã‚«ãƒ¼ã‚¢ã‚¤ã‚³ãƒ³</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: Arial, sans-serif;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        h1 {
            color: #333;
            margin-bottom: 10px;
        }
        .description {
            background: #f5f5f5;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
        }
        #map {
            height: 500px;
            width: 100%;
            border-radius: 5px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .code-section {
            margin-top: 20px;
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
        }
        .code-section pre {
            margin: 0;
            font-family: 'Courier New', monospace;
            font-size: 14px;
        }
        /* ã‚«ã‚¹ã‚¿ãƒ ã‚¢ã‚¤ã‚³ãƒ³ç”¨CSSï¼ˆDivIconç”¨ï¼‰ */
        .custom-div-icon {
            background: #007bff;
            border-radius: 50%;
            border: 3px solid white;
            box-shadow: 0 2px 5px rgba(0,0,0,0.3);
        }
        .emoji-icon {
            font-size: 24px;
            text-align: center;
            line-height: 30px;
        }
        .numbered-icon {
            background: #dc3545;
            color: white;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            text-align: center;
            line-height: 30px;
            font-weight: bold;
            border: 2px solid white;
            box-shadow: 0 2px 5px rgba(0,0,0,0.3);
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>11 - ã‚«ã‚¹ã‚¿ãƒ ãƒãƒ¼ã‚«ãƒ¼ã‚¢ã‚¤ã‚³ãƒ³</h1>
        <div class="description">
            <p><strong>å­¦ç¿’å†…å®¹:</strong> ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ãƒãƒ¼ã‚«ãƒ¼ã‚’ç‹¬è‡ªã®ã‚¢ã‚¤ã‚³ãƒ³ã«å¤‰æ›´ã—ã¾ã™ã€‚</p>
            <p><strong>ãƒã‚¤ãƒ³ãƒˆ:</strong></p>
            <ul>
                <li>L.icon() ã§ç”»åƒãƒ™ãƒ¼ã‚¹ã®ã‚¢ã‚¤ã‚³ãƒ³ã‚’ä½œæˆ</li>
                <li>L.divIcon() ã§HTMLãƒ™ãƒ¼ã‚¹ã®ã‚¢ã‚¤ã‚³ãƒ³ã‚’ä½œæˆ</li>
                <li>iconSize, iconAnchor, popupAnchor ã§ã‚¢ã‚¤ã‚³ãƒ³ã®é…ç½®ã‚’èª¿æ•´</li>
            </ul>
        </div>

        <div id="map"></div>

        <div class="code-section">
            <pre>
// ç”»åƒãƒ™ãƒ¼ã‚¹ã®ã‚«ã‚¹ã‚¿ãƒ ã‚¢ã‚¤ã‚³ãƒ³
const customIcon = L.icon({
    iconUrl: 'path/to/icon.png',
    iconSize: [32, 32],      // ã‚¢ã‚¤ã‚³ãƒ³ã‚µã‚¤ã‚º
    iconAnchor: [16, 32],    // ã‚¢ã‚¤ã‚³ãƒ³ã®åŸºæº–ç‚¹
    popupAnchor: [0, -32]    // ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ã®ä½ç½®
});

// HTMLãƒ™ãƒ¼ã‚¹ã®DivIcon
const divIcon = L.divIcon({
    className: 'custom-div-icon',
    html: '&lt;div class="emoji-icon"&gt;ğŸª&lt;/div&gt;',
    iconSize: [30, 30],
    iconAnchor: [15, 15]
});

// ã‚¢ã‚¤ã‚³ãƒ³ã‚’ä½¿ç”¨
L.marker([35.68, 139.76], { icon: customIcon }).addTo(map);
            </pre>
        </div>
    </div>

    <!-- Leaflet.jsæœ¬ä½“ã‚’èª­ã¿è¾¼ã‚€ -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script>
        // ========================================
        // ã‚«ã‚¹ã‚¿ãƒ ãƒãƒ¼ã‚«ãƒ¼ã‚¢ã‚¤ã‚³ãƒ³ã®ã‚µãƒ³ãƒ—ãƒ«
        // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ãƒ”ãƒ³ã‚¢ã‚¤ã‚³ãƒ³ã‚’ç‹¬è‡ªã®ã‚¢ã‚¤ã‚³ãƒ³ã«å¤‰æ›´
        // ========================================

        // åœ°å›³ã‚’åˆæœŸåŒ–
        const map = L.map('map').setView([35.6812, 139.7671], 14);

        // ã‚¿ã‚¤ãƒ«ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚’è¿½åŠ 
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
        }).addTo(map);

        // ----------------------------------------
        // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒãƒ¼ã‚«ãƒ¼ï¼ˆæ¯”è¼ƒç”¨ï¼‰
        // ----------------------------------------
        L.marker([35.6812, 139.7671])
            .addTo(map)
            .bindPopup('ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒãƒ¼ã‚«ãƒ¼');

        // ----------------------------------------
        // L.divIcon() - HTMLãƒ™ãƒ¼ã‚¹ã®ã‚«ã‚¹ã‚¿ãƒ ã‚¢ã‚¤ã‚³ãƒ³
        // ----------------------------------------
        // çµµæ–‡å­—ã‚’ä½¿ã£ãŸé§…ã‚¢ã‚¤ã‚³ãƒ³
        // className: '' ã«ã™ã‚‹ã¨ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ã‚¹ã‚¿ã‚¤ãƒ«ã‚’ç„¡åŠ¹åŒ–
        const stationIcon = L.divIcon({
            className: '',        // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ã‚¹ã‚¿ã‚¤ãƒ«ã‚’ç„¡åŠ¹åŒ–
            html: '<div class="emoji-icon">ğŸš‰</div>',  // è¡¨ç¤ºã™ã‚‹HTML
            iconSize: [30, 30],   // ã‚¢ã‚¤ã‚³ãƒ³ã®ã‚µã‚¤ã‚º [å¹…, é«˜ã•]
            iconAnchor: [15, 15], // ã‚¢ã‚¤ã‚³ãƒ³ã®åŸºæº–ç‚¹ï¼ˆä¸­å¿ƒã«é…ç½®ï¼‰
            popupAnchor: [0, -10] // ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ã®ä½ç½®ï¼ˆã‚¢ã‚¤ã‚³ãƒ³ã‹ã‚‰ã®ã‚ªãƒ•ã‚»ãƒƒãƒˆï¼‰
        });

        L.marker([35.6850, 139.7700], { icon: stationIcon })
            .addTo(map)
            .bindPopup('é§…ã‚¢ã‚¤ã‚³ãƒ³ï¼ˆçµµæ–‡å­—ï¼‰');

        // ãƒ¬ã‚¹ãƒˆãƒ©ãƒ³ã‚¢ã‚¤ã‚³ãƒ³
        const restaurantIcon = L.divIcon({
            className: '',
            html: '<div class="emoji-icon">ğŸœ</div>',
            iconSize: [30, 30],
            iconAnchor: [15, 15],
            popupAnchor: [0, -10]
        });

        L.marker([35.6780, 139.7650], { icon: restaurantIcon })
            .addTo(map)
            .bindPopup('ãƒ¬ã‚¹ãƒˆãƒ©ãƒ³');

        // ãƒ›ãƒ†ãƒ«ã‚¢ã‚¤ã‚³ãƒ³
        const hotelIcon = L.divIcon({
            className: '',
            html: '<div class="emoji-icon">ğŸ¨</div>',
            iconSize: [30, 30],
            iconAnchor: [15, 15],
            popupAnchor: [0, -10]
        });

        L.marker([35.6830, 139.7620], { icon: hotelIcon })
            .addTo(map)
            .bindPopup('ãƒ›ãƒ†ãƒ«');

        // ----------------------------------------
        // å‹•çš„ã«ã‚¢ã‚¤ã‚³ãƒ³ã‚’ç”Ÿæˆã™ã‚‹é–¢æ•°
        // ----------------------------------------
        // ç•ªå·ä»˜ãã‚¢ã‚¤ã‚³ãƒ³ã‚’ä½œæˆã™ã‚‹é–¢æ•°
        // é–¢æ•°åŒ–ã™ã‚‹ã“ã¨ã§ã€åŒã˜ã‚¹ã‚¿ã‚¤ãƒ«ã®ã‚¢ã‚¤ã‚³ãƒ³ã‚’ç°¡å˜ã«é‡ç”£ã§ãã‚‹
        function createNumberedIcon(number) {
            return L.divIcon({
                className: '',
                html: `<div class="numbered-icon">${number}</div>`,
                iconSize: [30, 30],
                iconAnchor: [15, 15],
                popupAnchor: [0, -15]
            });
        }

        // ç•ªå·ä»˜ããƒãƒ¼ã‚«ãƒ¼ã‚’é…ç½®
        const numberedLocations = [
            { lat: 35.6760, lng: 139.7700, name: 'ã‚¹ãƒãƒƒãƒˆ1' },
            { lat: 35.6800, lng: 139.7580, name: 'ã‚¹ãƒãƒƒãƒˆ2' },
            { lat: 35.6870, lng: 139.7650, name: 'ã‚¹ãƒãƒƒãƒˆ3' }
        ];

        // forEach ã®ç¬¬2å¼•æ•° index ã§é…åˆ—ã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚’å–å¾—
        numberedLocations.forEach((loc, index) => {
            L.marker([loc.lat, loc.lng], { icon: createNumberedIcon(index + 1) })
                .addTo(map)
                .bindPopup(loc.name);
        });

        // ----------------------------------------
        // ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³ã‚¹ã‚¿ã‚¤ãƒ«ã§ã‚«ã‚¹ã‚¿ãƒ è‰²ã®ä¸¸ã‚¢ã‚¤ã‚³ãƒ³
        // ----------------------------------------
        // CSSã‚¯ãƒ©ã‚¹ã‚’ä½¿ã‚ãšã€ç›´æ¥ã‚¹ã‚¿ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹æ–¹æ³•
        const blueCircleIcon = L.divIcon({
            className: '',
            html: '<div style="background: #007bff; width: 20px; height: 20px; border-radius: 50%; border: 3px solid white; box-shadow: 0 2px 5px rgba(0,0,0,0.3);"></div>',
            iconSize: [20, 20],
            iconAnchor: [10, 10],
            popupAnchor: [0, -10]
        });

        L.marker([35.6750, 139.7550], { icon: blueCircleIcon })
            .addTo(map)
            .bindPopup('ã‚«ã‚¹ã‚¿ãƒ è‰²ã®ä¸¸ã‚¢ã‚¤ã‚³ãƒ³');

        // ----------------------------------------
        // SVGã‚’ä½¿ã£ãŸã‚¢ã‚¤ã‚³ãƒ³
        // ----------------------------------------
        // SVGãªã‚‰ãƒ™ã‚¯ã‚¿ãƒ¼ãªã®ã§ã€æ‹¡å¤§ã—ã¦ã‚‚ãã‚Œã„ã«è¡¨ç¤ºã•ã‚Œã‚‹
        const svgIcon = L.divIcon({
            className: '',
            html: `<svg width="30" height="30" viewBox="0 0 30 30">
                <circle cx="15" cy="15" r="12" fill="#28a745" stroke="white" stroke-width="3"/>
                <text x="15" y="20" text-anchor="middle" fill="white" font-size="14" font-weight="bold">P</text>
            </svg>`,
            iconSize: [30, 30],
            iconAnchor: [15, 15],
            popupAnchor: [0, -15]
        });

        L.marker([35.6890, 139.7700], { icon: svgIcon })
            .addTo(map)
            .bindPopup('é§è»Šå ´ï¼ˆSVGã‚¢ã‚¤ã‚³ãƒ³ï¼‰');

        // ãƒ’ãƒ³ãƒˆ: ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½¿ã†å ´åˆã¯ L.icon() ã‚’ä½¿ç”¨
        // const customIcon = L.icon({
        //     iconUrl: 'path/to/icon.png',
        //     iconSize: [32, 32],
        //     iconAnchor: [16, 32],
        //     popupAnchor: [0, -32]
        // });
    </script>
</body>
</html>
